<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <style>
        html {
            font-size: 12px;
        }

        .text-success {
            background-color: aqua;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-2 p-2 vh-100" style="overflow-y: auto;">

                <div class="border mb-2 p-1">
                    <strong class="fs-5">Annotat3Dumal v1.0</strong>
                </div>

                <div class="border mb-2 p-1">
                    <div class="mb-1">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-collection-fill" viewBox="0 0 16 16">
                            <path d="M0 13a1.5 1.5 0 0 0 1.5 1.5h13A1.5 1.5 0 0 0 16 13V6a1.5 1.5 0 0 0-1.5-1.5h-13A1.5 1.5 0 0 0 0 6v7zM2 3a.5.5 0 0 0 .5.5h11a.5.5 0 0 0 0-1h-11A.5.5 0 0 0 2 3zm2-2a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 0-1h-7A.5.5 0 0 0 4 1z" />
                        </svg>
                        <strong>examples</strong>
                    </div>
                    <button onclick="example(0);" class="btn btn-dark mb-1">0</button>
                    <button onclick="example(1);" class="btn btn-dark mb-1">1</button>
                    <button onclick="example(2);" class="btn btn-dark mb-1">2</button>
                    <button onclick="example(3);" class="btn btn-dark mb-1">3</button>
                </div>

                <div class="border mb-2 p-1">
                    <div class="mb-1">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-image-fill" viewBox="0 0 16 16">
                            <path d="M.002 3a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-12a2 2 0 0 1-2-2V3zm1 9v1a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V9.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12zm5-6.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0z" />
                        </svg>
                        <strong>image</strong>
                    </div>
                    <input id="image_path" type="text" class="form-control mb-1" placeholder="image_path">
                    <select id="dtype" class="form-select mb-1">
                        <option disabled selected>dtype</option>
                        <option value="uint8">uint8</option>
                        <option value="uint16">uint16</option>
                    </select>
                    <div class="input-group mb-1">
                        <span class="input-group-text">xyz</span>
                        <input id="open_x" type="number" class="form-control" placeholder="x">
                        <input id="open_y" type="number" class="form-control" placeholder="y">
                        <input id="open_z" type="number" class="form-control" placeholder="z">
                    </div>
                    <button id="open_image" onclick="open_image();" class="btn btn-dark w-100 mb-1">open_image</button>
                    <button id="close_image" onclick="close_image();" class="btn btn-dark w-100 mb-1">close_image</button>
                </div>

                <div class="border mb-2 p-1">
                    <div class="mb-1">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-easel2-fill" viewBox="0 0 16 16">
                            <path d="M8.447.276a.5.5 0 0 0-.894 0L7.19 1H2.5A1.5 1.5 0 0 0 1 2.5V10h14V2.5A1.5 1.5 0 0 0 13.5 1H8.809L8.447.276Z" />
                            <path fill-rule="evenodd" d="M.5 11a.5.5 0 0 0 0 1h2.86l-.845 3.379a.5.5 0 0 0 .97.242L3.89 14h8.22l.405 1.621a.5.5 0 0 0 .97-.242L12.64 12h2.86a.5.5 0 0 0 0-1H.5Zm3.64 2 .25-1h7.22l.25 1H4.14Z" />
                        </svg>
                        <strong>annotation</strong>
                    </div>
                    <input id="annot_path" type="text" class="form-control mb-1" placeholder="annot_path">
                    <button id="new_annot" onclick="new_annot();" class="btn btn-dark w-100 mb-1">new_annot</button>
                    <button id="open_annot" onclick="open_annot();" class="btn btn-dark w-100 mb-1">open_annot</button>
                    <button id="close_annot" onclick="close_annot();" class="btn btn-dark w-100 mb-1">close_annot</button>
                    <button id="save_annot" onclick="save_annot();" class="btn btn-dark w-100 mb-1">save_annot</button>
                </div>

                <div class="border mb-2 p-1">
                    <div class="mb-1">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-brush-fill" viewBox="0 0 16 16">
                            <path d="M15.825.12a.5.5 0 0 1 .132.584c-1.53 3.43-4.743 8.17-7.095 10.64a6.067 6.067 0 0 1-2.373 1.534c-.018.227-.06.538-.16.868-.201.659-.667 1.479-1.708 1.74a8.118 8.118 0 0 1-3.078.132 3.659 3.659 0 0 1-.562-.135 1.382 1.382 0 0 1-.466-.247.714.714 0 0 1-.204-.288.622.622 0 0 1 .004-.443c.095-.245.316-.38.461-.452.394-.197.625-.453.867-.826.095-.144.184-.297.287-.472l.117-.198c.151-.255.326-.54.546-.848.528-.739 1.201-.925 1.746-.896.126.007.243.025.348.048.062-.172.142-.38.238-.608.261-.619.658-1.419 1.187-2.069 2.176-2.67 6.18-6.206 9.117-8.104a.5.5 0 0 1 .596.04z" />
                        </svg>
                        <strong>brush</strong>
                    </div>
                    <div class="btn-group w-100 mb-1" role="group">
                        <input type="radio" class="btn-check" name="brush_mode" id="draw_brush" value="draw_brush" checked>
                        <label class="btn btn-outline-dark" for="draw_brush">draw</label>
                        <input type="radio" class="btn-check" name="brush_mode" id="erase_brush" value="erase_brush">
                        <label class="btn btn-outline-dark" for="erase_brush">erase</label>
                    </div>
                    <div class="input-group mb-1">
                        <span class="input-group-text">label</span>
                        <input id="brush_label" type="number" class="form-control" value=0 min=0 max=10>
                    </div>
                    <div class="input-group mb-1">
                        <span class="input-group-text">size</span>
                        <input id="brush_size" type="number" class="form-control" value=0>
                    </div>
                    <div class="input-group mb-1">
                        <span class="input-group-text">xyz</span>
                        <input id="brush_x" type="text" class="form-control" disabled value=0>
                        <input id="brush_y" type="text" class="form-control" disabled value=0>
                        <input id="brush_z" type="text" class="form-control" disabled value=0>
                    </div>
                </div>

                <div class="border mb-2 p-1">
                    <div class="mb-1">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-rulers" viewBox="0 0 16 16">
                            <path d="M1 0a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h5v-1H2v-1h4v-1H4v-1h2v-1H2v-1h4V9H4V8h2V7H2V6h4V2h1v4h1V4h1v2h1V2h1v4h1V4h1v2h1V2h1v4h1V1a1 1 0 0 0-1-1H1z" />
                        </svg>
                        <strong>canvas</strong>
                    </div>
                    <div class="btn-group w-100 mb-1" role="group">
                        <input type="radio" class="btn-check" disabled checked>
                        <label class="btn btn-outline-dark">XY</label>
                        <input type="radio" class="btn-check" disabled>
                        <label class="btn btn-outline-dark">YZ</label>
                        <input type="radio" class="btn-check" disabled>
                        <label class="btn btn-outline-dark">XZ</label>
                    </div>
                    <div class="input-group mb-1">
                        <span class="input-group-text">z</span>
                        <input id="z" type="number" class="form-control" value=0>
                    </div>
                    <button onclick="recenter_canvas();" class="btn btn-dark w-100 mb-1">recenter_canvas</button>
                </div>

                <button onclick="computeSuperpixels();" class="btn btn-primary w-100 mb-1">Generate Superpixels</button>

                <div class="btn-group w-100">
                    <button onclick="createSegmentationModule()" class="btn btn-secondary w-50 mb-1">Extract features</button>
                    <button onclick="preview();" class="btn btn-success w-50 mb-1">Preview</button>
                </div>

                <div class="border mb-2 p-1">
                    <div class="mb-1">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bug-fill" viewBox="0 0 16 16">
                            <path d="M4.978.855a.5.5 0 1 0-.956.29l.41 1.352A4.985 4.985 0 0 0 3 6h10a4.985 4.985 0 0 0-1.432-3.503l.41-1.352a.5.5 0 1 0-.956-.29l-.291.956A4.978 4.978 0 0 0 8 1a4.979 4.979 0 0 0-2.731.811l-.29-.956z" />
                            <path d="M13 6v1H8.5v8.975A5 5 0 0 0 13 11h.5a.5.5 0 0 1 .5.5v.5a.5.5 0 1 0 1 0v-.5a1.5 1.5 0 0 0-1.5-1.5H13V9h1.5a.5.5 0 0 0 0-1H13V7h.5A1.5 1.5 0 0 0 15 5.5V5a.5.5 0 0 0-1 0v.5a.5.5 0 0 1-.5.5H13zm-5.5 9.975V7H3V6h-.5a.5.5 0 0 1-.5-.5V5a.5.5 0 0 0-1 0v.5A1.5 1.5 0 0 0 2.5 7H3v1H1.5a.5.5 0 0 0 0 1H3v1h-.5A1.5 1.5 0 0 0 1 11.5v.5a.5.5 0 1 0 1 0v-.5a.5.5 0 0 1 .5-.5H3a5 5 0 0 0 4.5 4.975z" />
                        </svg>
                        <strong>debug</strong>
                    </div>
                    <div id="debug"></div>
                </div>

                <div class="border mb-2 p-1">
                    <div class="mb-1">
                        <button onclick="preview();" class="btn btn-success w-50 mb-1">Index</button>

                    </div>
                </div>
            </div>

            <div id="canvas" class="col-10 p-0 vh-100"></div>

        </div>
    </div>

</body>
<script src="{{url_for('static', filename='math.js')}}"></script>
<script src="{{url_for('static', filename='pixi.js')}}"></script>
<script src="{{url_for('static', filename='npyjs.js')}}"></script>
<!-- <script src="{{url_for('static', filename='pixi.min.js')}}"></script> -->
<script src="{{url_for('static', filename='viewport.min.js')}}"></script>
<script src="{{url_for('static', filename='pako.js')}}"></script>
<script src="{{url_for('static', filename='canvas.js')}}"></script>
<script src="{{url_for('static', filename='simplerequest.js')}}"></script>
<script src="{{url_for('static', filename='index.js')}}"></script>

</html>
